---
layout:     post
title:      使用并发在2s完成10G文件的校验
keywords:
category:  Go
tags:
    - NIO
    - GoLang
    - Concurrent
    - Parallelism
date:        2016/5/21 21:27:36
description: 使用并发在2s完成10G文件的校验

---
  - AKKA使用了SBT，相比gradle更简洁，maven就不用来比较了。
  - 但是受网络的影响，从仓库下载akka和scale的库不是件容易的事情，前后折腾了几个小时
  - 构建的时候遇到个文件，明明jar文件存在，但是编译报错
  - 意识到jar文件可能没有下载完整

  - 手工检查是不可能的
<!--more-->
  - 写了个小程序还帮忙，分别写了两个实现
    * 一个使用 java nio 库实现并发的目录遍历和文件检测
    * 一个使用 go 的 channel 来实现并发的处理

  - 结果是（环境检测了.m2/.ivy/.gradle, size共超过10G）
    * java nio 4秒完成检测
    * go channel 版本 2秒完成检测
    * go filepath.walk 版本 10秒完成检测
    * 结论：go channel 的并发让人惊叹，java nio不可小觑
